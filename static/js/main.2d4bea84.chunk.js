(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{25:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){},29:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),i=c(20),s=c.n(i),r=(c(25),c(6)),o=c(3),l=c(4),j=c(7),b=c.n(j),u=(c(26),"https://api.escuelajs.co/api/v1"),d=(c(27),c(1)),m=function(){return Object(d.jsx)("div",{className:"Loader",children:Object(d.jsx)("div",{className:"Loader__content"})})};c(29);function O(e,t){for(var c=new URLSearchParams(t.toString()),a=0,n=Object.keys(e);a<n.length;a++){var i=n[a];e[i]?c.set(i,e[i]):c.delete(i)}return c.toString()}var h=n.a.memo((function(e){var t=e.total,c=Math.ceil(t/20),a=function(e,t){for(var c=[],a=e;a<=t;a+=1)c.push(a);return c}(1,Math.ceil(c)),n=Object(r.d)(),i=Object(l.a)(n,1)[0],s=i.get("page"),o=null!==s?Number(s):1;console.log(o);var j=o-1!==1?{page:(o-1).toString()}:{page:""},u={page:(o+1).toString()},m=function(e){return 1!==e?{page:e.toString()}:{page:""}};return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("ul",{className:"Pagination",children:[Object(d.jsx)("li",{className:b()("Pagination__item",{"Pagination__item--disabled":1===o}),children:Object(d.jsx)(r.b,{className:"Pagination__link",to:{search:O(j,i)},children:"\xab"})}),a.map((function(e){return Object(d.jsx)("li",{className:b()("Pagination__item",{"Pagination__item--active":e===o}),children:Object(d.jsx)(r.b,{className:"Pagination__link",to:{search:O(m(e),i)},children:e})},e)})),Object(d.jsx)("li",{className:b()("Pagination__item",{"Pagination__item--disabled":o===c}),children:Object(d.jsx)(r.b,{className:"Pagination__link",to:{search:O(u,i)},children:"\xbb"})})]})})}));c(31);var g=n.a.memo((function(e){var t=e.product,c=Object(r.d)(),n=Object(l.a)(c,1)[0],i=function(e,t){var c=Object(a.useState)((function(){try{return JSON.parse(localStorage.getItem(e)||"")||t}catch(c){return t}})),n=Object(l.a)(c,2),i=n[0],s=n[1];return[i,function(t){s(t),localStorage.setItem(e,JSON.stringify(t))}]}("".concat(t.id),!1),s=Object(l.a)(i,2),o=s[0],j=s[1],u=n.get("view"),m=t.title;return Object(d.jsxs)("li",{className:b()("ProductItem",{"ProductItem--twoTiles":u}),children:[Object(d.jsx)("div",{className:b()("ProductItem__imgContainer",{"ProductItem__imgContainer--twoTiles":u}),children:Object(d.jsx)("img",{className:"ProductItem__img",src:t.images[0],alt:m})}),Object(d.jsxs)("div",{className:"ProductItem__container",children:[Object(d.jsx)("p",{className:"ProductItem__title",title:m,children:m}),Object(d.jsx)("button",{type:"button",className:b()("ProductItem__favoriteIcon",{"ProductItem__favoriteIcon--active":o}),onClick:function(){return j(!o)}})]}),Object(d.jsx)("p",{className:"ProductItem__price",children:"".concat(t.price,"$")})]})})),x=(c(32),n.a.memo((function(){var e,t,c=Object(a.useState)([]),n=Object(l.a)(c,2),i=n[0],s=n[1],j=Object(o.n)().category,b=Object(r.d)(),O=Object(l.a)(b,1)[0].get("page"),x=Object(a.useState)(!1),f=Object(l.a)(x,2),_=f[0],p=f[1];return Object(a.useEffect)((function(){p(!1),fetch("".concat(u,"/products")).then((function(e){return e.json()})).then((function(e){return s(e)})).finally((function(){return p(!0)}))}),[]),e=j?i.filter((function(e){return e.category.name===j})):i,t=O?e.slice(20*+O-20,20*+O):e.slice(0,20),Object(d.jsx)(d.Fragment,{children:_?Object(d.jsxs)("div",{className:"ProductListContainer",children:[Object(d.jsx)("ul",{className:"ProductList",children:t.length>0?t.map((function(e){return Object(d.jsx)(g,{product:e},e.id)})):Object(d.jsx)("div",{className:"ProductList__noProducts",children:"No products in this category yet"})}),t.length>0&&Object(d.jsx)(h,{total:e.length})]}):Object(d.jsx)(m,{})})}))),f=(c(33),c.p+"static/media/logo.06314595.svg"),_=n.a.memo((function(e){var t=e.clickHandler,c=Object(o.i)().search,a=Object(r.d)(),n=Object(l.a)(a,1)[0],i=n.get("view");return Object(d.jsx)("header",{className:"Header",children:Object(d.jsxs)("div",{className:"HeaderWrapper",children:[Object(d.jsxs)("div",{className:"Header__container",children:[Object(d.jsx)(r.b,{to:{pathname:"/",search:c},children:Object(d.jsx)("img",{src:f,alt:"Logo",className:"logo__image"})}),Object(d.jsx)("button",{type:"button",className:"icon icon--menu",onClick:function(){return t(!0)}})]}),Object(d.jsxs)("div",{className:"Header__view",children:[Object(d.jsx)(r.b,{to:{search:O({view:"two-tiles"},n)},className:b()("icon icon--twoTilesToggler",{"icon--twoTilesTogglerActive":i})}),Object(d.jsx)(r.b,{to:{search:O({view:""},n)},className:b()("icon icon--fourTilesToggler",{"icon--fourTilesTogglerActive":!i})})]})]})})})),p=c(9),v=(c(34),n.a.memo((function(e){var t=e.categories,c=e.clickHandler,a=Object(o.i)().search,n=Object(r.d)(),i=Object(l.a)(n,1)[0];function s(e){var t,c=new URLSearchParams(i.toString()),a=Object(p.a)(c);try{for(a.s();!(t=a.n()).done;){var n=Object(l.a)(t.value,1)[0];n===e&&c.delete(n)}}catch(s){a.e(s)}finally{a.f()}return c.toString()}return Object(d.jsxs)("ul",{className:"CategoryList",children:[Object(d.jsx)("li",{children:Object(d.jsx)(r.c,{to:{pathname:"/",search:a},className:"CategoryList__link CategoryList__link--bold",children:"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u0443\u0442\u0438 \u0432\u0441\u0435"})}),t.map((function(e){return Object(d.jsx)("li",{children:Object(d.jsx)(r.c,{to:{pathname:e.name,search:s("page")},className:function(e){var t=e.isActive;return b()("CategoryList__link",{"CategoryList__link--active":t})},onClick:c,children:e.name})},e.id)}))]})}))),N=(c(35),n.a.memo((function(e){var t=e.clickHandler,c=e.categories;return Object(d.jsxs)("nav",{className:"NavMobile",id:"nav-mob",children:[Object(d.jsxs)("div",{className:"NavMobile__header",children:[Object(d.jsx)("a",{href:"#homepage",className:"logo",children:Object(d.jsx)("img",{src:f,alt:"Logo",className:"logo__image"})}),Object(d.jsx)("button",{type:"button",className:"icon icon--menu-cross",id:"nav-mob-toggler-2",onClick:function(){return t(!1)}})]}),Object(d.jsx)("div",{className:"NavMobile__container",children:Object(d.jsx)(v,{categories:c,clickHandler:t})})]})}))),P=c.p+"static/media/logo-footer.6dfe3bfb.svg",S=(c(36),n.a.memo((function(){var e=Object(o.i)().search;return Object(d.jsx)("footer",{className:"Footer",children:Object(d.jsx)("div",{className:"Footer__container",children:Object(d.jsx)(r.b,{to:{pathname:"/",search:e},children:Object(d.jsx)("img",{src:P,alt:"Logo",className:"logo__image"})})})})}))),k=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)([]),s=Object(l.a)(i,2),r=s[0],o=s[1];return Object(a.useEffect)((function(){fetch("".concat(u,"/categories")).then((function(e){return e.json()})).then((function(e){return o(e)}))}),[]),Object(d.jsxs)("div",{className:"ShopApp",children:[Object(d.jsx)(_,{clickHandler:n}),Object(d.jsxs)("div",{className:"ShopAppContent",children:[Object(d.jsx)("div",{className:b()("NavMobileContainer",{"NavMobileContainer--active":c}),children:Object(d.jsx)(N,{isActive:c,clickHandler:function(){n(!1)},categories:r})}),Object(d.jsxs)("main",{className:"ShopApp__main",children:[Object(d.jsx)("nav",{className:"ShopApp__menu",children:Object(d.jsx)(v,{categories:r})}),Object(d.jsx)(x,{})]})]}),Object(d.jsx)(S,{})]})},y=function(){return Object(d.jsx)(r.a,{children:Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{path:"/",element:Object(d.jsx)(k,{}),children:Object(d.jsx)(o.a,{path:":category",element:Object(d.jsx)(k,{})})}),Object(d.jsx)(o.a,{path:"*",element:Object(d.jsx)("h1",{children:"Page not found"})})]})})};s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.2d4bea84.chunk.js.map