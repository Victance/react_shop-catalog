(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{26:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){},30:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(21),s=c.n(i),r=(c(26),c(6)),o=c(3),l=c(4),j=c(7),b=c.n(j),d=(c(27),"https://api.escuelajs.co/api/v1"),u=(c(28),c(1)),m=function(){return Object(u.jsx)("div",{className:"Loader",children:Object(u.jsx)("div",{className:"Loader__content"})})},O=(c(30),c(19));function h(e,t){for(var c=new URLSearchParams(t.toString()),n=0,a=Object.keys(e);n<a.length;n++){var i=a[n];e[i]?c.set(i,e[i]):c.delete(i)}return c.toString()}var g=a.a.memo((function(e){var t=e.total,c=Math.ceil(t/20),n=function(e,t){for(var c=[],n=e;n<=t;n+=1)c.push(n);return c}(1,Math.ceil(c)),a=Object(r.d)(),i=Object(l.a)(a,1)[0],s=i.get("page"),o=null!==s?Number(s):1,j=o-1!==1?{page:(o-1).toString()}:{page:""},d={page:(o+1).toString()},m=function(e){return 1!==e?{page:e.toString()}:{page:""}};return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("ul",{className:"Pagination",children:[Object(u.jsx)(O.a,{selector:"#header",style:1===o?{"pointer-events":"none"}:{},children:Object(u.jsx)("li",{className:"Pagination__item",children:Object(u.jsx)(r.b,{className:"Pagination__link",to:{search:h(j,i)},children:"\xab"})})}),n.map((function(e){return Object(u.jsx)(O.a,{selector:"#header",children:Object(u.jsx)("li",{className:b()("Pagination__item",{"Pagination__item--active":e===o}),children:Object(u.jsx)(r.b,{className:"Pagination__link",to:{search:h(m(e),i)},children:e})})},e)})),Object(u.jsx)(O.a,{selector:"#header",style:o===c?{"pointer-events":"none"}:{},children:Object(u.jsx)("li",{className:"Pagination__item",children:Object(u.jsx)(r.b,{className:"Pagination__link",to:{search:h(d,i)},children:"\xbb"})})})]})})}));c(32);var f=a.a.memo((function(e){var t=e.product,c=Object(r.d)(),a=Object(l.a)(c,1)[0],i=function(e,t){var c=Object(n.useState)((function(){try{return JSON.parse(localStorage.getItem(e)||"")||t}catch(c){return t}})),a=Object(l.a)(c,2),i=a[0],s=a[1];return[i,function(t){s(t),localStorage.setItem(e,JSON.stringify(t))}]}("".concat(t.id),!1),s=Object(l.a)(i,2),o=s[0],j=s[1],d=a.get("view"),m=t.title;return Object(u.jsxs)("li",{className:b()("ProductItem",{"ProductItem--twoTiles":d}),children:[Object(u.jsx)("div",{className:b()("ProductItem__imgContainer",{"ProductItem__imgContainer--twoTiles":d}),children:Object(u.jsx)("img",{className:"ProductItem__img",src:t.images[0],alt:m})}),Object(u.jsxs)("div",{className:"ProductItem__container",children:[Object(u.jsx)("p",{className:"ProductItem__title",title:m,children:m}),Object(u.jsx)("button",{type:"button",className:b()("ProductItem__favoriteIcon",{"ProductItem__favoriteIcon--active":o}),onClick:function(){return j(!o)}})]}),Object(u.jsx)("p",{className:"ProductItem__price",children:"".concat(t.price,"$")})]})})),x=(c(33),a.a.memo((function(){var e,t,c=Object(n.useState)([]),a=Object(l.a)(c,2),i=a[0],s=a[1],j=Object(o.n)().category,b=Object(r.d)(),O=Object(l.a)(b,1)[0].get("page"),h=Object(n.useState)(!1),x=Object(l.a)(h,2),v=x[0],p=x[1];return Object(n.useEffect)((function(){p(!1),fetch("".concat(d,"/products")).then((function(e){return e.json()})).then((function(e){return s(e)})).finally((function(){return p(!0)}))}),[]),e=j?i.filter((function(e){return e.category.name===j})):i,t=O?e.slice(20*+O-20,20*+O):e.slice(0,20),Object(u.jsx)(u.Fragment,{children:v?Object(u.jsxs)("div",{className:"ProductListContainer",children:[Object(u.jsx)("ul",{className:"ProductList",children:t.length>0?t.map((function(e){return Object(u.jsx)(f,{product:e},e.id)})):Object(u.jsx)("div",{className:"ProductList__noProducts",children:"No products in this category yet"})}),t.length>0&&Object(u.jsx)(g,{total:e.length})]}):Object(u.jsx)(m,{})})}))),v=(c(34),c.p+"static/media/logo.06314595.svg"),p=a.a.memo((function(e){var t=e.clickHandler,c=Object(o.i)().search,n=Object(r.d)(),a=Object(l.a)(n,1)[0],i=a.get("view");return Object(u.jsx)("header",{className:"Header",id:"header",children:Object(u.jsxs)("div",{className:"HeaderWrapper",children:[Object(u.jsxs)("div",{className:"Header__container",children:[Object(u.jsx)(r.b,{to:{pathname:"/",search:c},children:Object(u.jsx)("img",{src:v,alt:"Logo",className:"logo__image"})}),Object(u.jsx)("button",{id:"nav-mob-toggler",type:"button",className:"icon icon--menu",onClick:function(){document.body.style.overflow="hidden",t(!0)}})]}),Object(u.jsxs)("div",{className:"Header__view",children:[Object(u.jsx)(r.b,{to:{search:h({view:"two-tiles"},a)},className:b()("icon icon--twoTilesToggler",{"icon--twoTilesTogglerActive":i})}),Object(u.jsx)(r.b,{to:{search:h({view:""},a)},className:b()("icon icon--fourTilesToggler",{"icon--fourTilesTogglerActive":!i})})]})]})})})),_=c(9),N=(c(35),a.a.memo((function(e){var t=e.categories,c=e.clickHandler,n=Object(r.d)(),a=Object(l.a)(n,1)[0];function i(e){var t,c=new URLSearchParams(a.toString()),n=Object(_.a)(c);try{for(n.s();!(t=n.n()).done;){var i=Object(l.a)(t.value,1)[0];i===e&&c.delete(i)}}catch(s){n.e(s)}finally{n.f()}return c.toString()}return Object(u.jsxs)("ul",{className:"CategoryList",children:[Object(u.jsx)("li",{children:Object(u.jsx)(r.c,{to:{pathname:"/",search:i("page")},className:"CategoryList__link CategoryList__link--bold",onClick:function(){document.body.style.overflow="visible",c&&c()},children:"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u0443\u0442\u0438 \u0432\u0441\u0435"})}),t.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)(r.c,{to:{pathname:e.name,search:i("page")},className:function(e){var t=e.isActive;return b()("CategoryList__link",{"CategoryList__link--active":t})},onClick:function(){document.body.style.overflow="visible",c&&c()},children:e.name})},e.id)}))]})}))),y=(c(36),function(e){var t=e.clickHandler,c=e.categories,n=Object(o.i)().search;return Object(u.jsxs)("nav",{className:"NavMobile",id:"nav-mob",children:[Object(u.jsxs)("div",{className:"NavMobile__header",children:[Object(u.jsx)(r.b,{to:{pathname:"/",search:n},children:Object(u.jsx)("img",{src:v,alt:"Logo",className:"logo__image"})}),Object(u.jsx)("button",{type:"button",className:"icon icon--menu-cross",onClick:function(){document.body.style.overflow="visible",t()}})]}),Object(u.jsx)("div",{className:"NavMobile__container",children:Object(u.jsx)(N,{categories:c,clickHandler:t})})]})}),P=c.p+"static/media/logo-footer.6dfe3bfb.svg",k=(c(37),a.a.memo((function(){var e=Object(o.i)().search;return Object(u.jsx)("footer",{className:"Footer",children:Object(u.jsx)("div",{className:"Footer__container",children:Object(u.jsx)(r.b,{to:{pathname:"/",search:e},children:Object(u.jsx)("img",{src:P,alt:"Logo",className:"logo__image"})})})})}))),S=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)([]),s=Object(l.a)(i,2),r=s[0],o=s[1];return Object(n.useEffect)((function(){fetch("".concat(d,"/categories")).then((function(e){return e.json()})).then((function(e){return o(e)}))}),[]),Object(u.jsxs)("div",{className:"ShopApp",children:[Object(u.jsx)(p,{clickHandler:a}),Object(u.jsxs)("div",{className:"ShopAppContent",children:[Object(u.jsx)("div",{className:b()("NavMobileContainer",{"NavMobileContainer--active":c}),children:Object(u.jsx)(y,{isActive:c,clickHandler:function(){a(!1)},categories:r})}),Object(u.jsxs)("main",{className:"ShopApp__main",children:[Object(u.jsx)("nav",{className:"ShopApp__menu",children:Object(u.jsx)(N,{categories:r})}),Object(u.jsx)(x,{})]})]}),Object(u.jsx)(k,{})]})},w=function(){return Object(u.jsx)(r.a,{children:Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{path:"/",element:Object(u.jsx)(S,{}),children:Object(u.jsx)(o.a,{path:":category",element:Object(u.jsx)(S,{})})}),Object(u.jsx)(o.a,{path:"*",element:Object(u.jsx)("h1",{children:"Page not found"})})]})})};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.37d13525.chunk.js.map